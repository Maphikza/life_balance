<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Life Goals</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link href="{{url_for('static', filename='css/styles.css')}}" rel="stylesheet">
</head>

<body>
  <div class="container-fluid">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark" aria-label="goals navbar">
      <div class="container-fluid">
        <a class="navbar-brand" href="{{url_for('home')}}">LifePath</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarGoal"
          aria-controls="navbarGoal" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarGoal">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="{{url_for('goals')}}">Goals</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{url_for('connections')}}">Connections</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{url_for('finance')}}">Finance</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{url_for('bucket_list')}}">Bucket List</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{url_for('logout')}}">Logout</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>
  <div class="container">
    <div class="position-relative overflow-hidden p-3 p-md-2 m-md-2 text-center bg-light">
      <div class="col-md-9 p-lg-5 mx-auto my-5">
        <h4 class="display-5 fw-normal">Work on a goal</h4>
        <p class=" fw-normal mb-4">We have provided with some primers for you to think about how to approach each goal.
        </p>

        <form class="life-goal-form g-3 text-start" method="post">
          <div class="mb-3">
            {% with messages = get_flashed_messages() %}
            {% if messages %}
            {% for message in messages %}
            <p class="flashes" style="color: red;">{{ message }}</p>
            {% endfor %}
            {% endif%}
            {% endwith %}
            <label for="life-goals" class="form-label fw-bold">Choose:</label>
            <select class="form-select fw-normal border-secondary" aria-label="Default select example" name="life-goals" id="life-goals">
              <option value="selection"> Select a Goal:</option>
              <option value="Purpose">Purpose</option>
              <option value="Spirit">Spirituality</option>
              <option value="Mental">Self-Development</option>
              <option value="Physical">Physical Health and Fitness</option>
            </select>
            <div class="card border-secondary rounded-0 rounded-bottom border-top-0 goal-card purpose-card show ">
              <div class="card-body">
                <div class="accordion accordion-flush" id="accordionEmergency">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingOne">
                      <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse"
                        data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                          class="bi bi-stars" viewBox="0 0 16 16">
                          <path
                            d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z" />
                        </svg> Purpose Primer
                      </button>
                    </h2>
                    <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne"
                      data-bs-parent="#accordionFlushPrimers">
                      <div class="accordion-body">
                        <div class="pt-2 text-center">
                          <audio controls>
                            <source src="{{ url_for('static', filename='synthesized_audio_purpose.mp3') }}"
                              type="audio/mpeg">
                          </audio>
                        </div>
                        <p class="text-center mt-2">
                          <a class="btn btn-dark" data-bs-toggle="collapse" href="#collapsePurposePrimer" role="button"
                            aria-expanded="false" aria-controls="collapsePurposePrimer">
                            Read Primer
                          </a>
                        </p>
                        <div class="collapse" id="collapsePurposePrimer">
                          <div class="card card-body">
                            Knowing yourself and understanding your "why" is crucial. As Viktor Frankl once said, "Those
                            who
                            have
                            a 'why' to live can bear with almost any 'how'." Defining your life's purpose is essential
                            for
                            finding
                            direction as you navigate through life. Remember that your purpose is personal and doesn't
                            need
                            to
                            make sense to others. This isn't for sharing in public, so you can focus on being true to
                            yourself.
                            Don't expect to have everything figured out on your first attempt. Write it down, reflect on
                            it,
                            and
                            refine it until it feels right for you. Take your time and don't rush the process; iterate
                            until
                            you
                            have clarity.
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card border-secondary rounded-0 rounded-bottom border-top-0 goal-card spiritual-card show">
              <div class="card-body">
                <div class="accordion accordion-flush" id="accordionEmergency">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingTwo">
                      <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse"
                        data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                          class="bi bi-stars" viewBox="0 0 16 16">
                          <path
                            d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z" />
                        </svg> Spiritual Primer
                      </button>
                    </h2>
                    <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo"
                      data-bs-parent="#accordionFlushPrimers">
                      <div class="accordion-body">
                        <div class="pt-2 text-center">
                          <audio controls>
                            <source src="{{ url_for('static', filename='synthesized_audio_spirit.mp3') }}"
                              type="audio/mpeg">
                          </audio>
                        </div>
                        <p class="text-center mt-2">
                          <a class="btn btn-dark" data-bs-toggle="collapse" href="#collapseSpiritualPrimer"
                            role="button" aria-expanded="false" aria-controls="collapseSpiritualPrimer">
                            Read Prime
                          </a>
                        </p>
                        <div class="collapse" id="collapseSpiritualPrimer">
                          <div class="card card-body">
                            Spirituality has been an integral part of human experience for millennia. People from all
                            over
                            the
                            world have felt a desire to connect with a higher power, whether it be God, the universe, or
                            the
                            environment. This aspect of humanity can be difficult to explain or debate publicly because
                            it
                            has its
                            own language and culture. Take the time to explore your spirituality and how it influences
                            your
                            life
                            choices. If you value your connection to God, this section will be particularly meaningful
                            for
                            you.
                            We're not here to tell you the "right" way to approach spirituality; it's a personal journey
                            that only
                            you can define. Take your time to work through it until you find what feels right for you.
                            If
                            this
                            section doesn't resonate with you, feel free to skip it; everyone's spiritual journey is
                            different,
                            and that's okay.
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card border-secondary rounded-0 rounded-bottom border-top-0 goal-card self-development-card show">
              <div class="card-body">
                <div class="accordion accordion-flush" id="accordionEmergency">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingThree">
                      <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse"
                        data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                          class="bi bi-stars" viewBox="0 0 16 16">
                          <path
                            d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z" />
                        </svg> Self-development Primer
                      </button>
                    </h2>
                    <div id="flush-collapseThree" class="accordion-collapse collapse"
                      aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushPrimers">
                      <div class="accordion-body">
                        <div class="pt-2 text-center">
                          <audio controls>
                            <source src="{{ url_for('static', filename='synthesized_audio_mental.mp3') }}"
                              type="audio/mpeg">
                          </audio>
                        </div>
                        <p class="text-center mt-2">
                          <a class="btn btn-dark" data-bs-toggle="collapse" href="#collapseSelf-devPrimer" role="button"
                            aria-expanded="false" aria-controls="collapseSelf-devPrimer">
                            Read Primer
                          </a>
                        </p>
                        <div class="collapse" id="collapseSelf-devPrimer">
                          <div class="card card-body">
                            We hope you've already worked through the purpose and spiritual sections, as they can guide
                            you
                            in
                            this part. Knowing who we want to be helps us identify what we need to get there. For
                            instance,
                            if
                            your goal for the next ten years is to raise your children as secure, compassionate, and
                            responsible
                            individuals, you can reflect on what traits you need to develop. Do you need to work on your
                            patience and listening skills? What kind of family environment do you need to create to
                            achieve
                            this
                            goal? Which career paths can help you fulfill this vision? Your self-development goals
                            should
                            align
                            with your life's objectives. As you evolve, your goals and needs will shift as well.
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card border-secondary rounded-0 rounded-bottom border-top-0 goal-card physical-fitness-card show">
              <div class="card-body">
                <div class="accordion accordion-flush" id="accordionEmergency">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingFour">
                      <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse"
                        data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                          class="bi bi-stars" viewBox="0 0 16 16">
                          <path
                            d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z" />
                        </svg> Physical Health and Fitness Primer
                      </button>
                    </h2>
                    <div id="flush-collapseFour" class="accordion-collapse collapse" aria-labelledby="flush-headingFour"
                      data-bs-parent="#accordionFlushPrimers">
                      <div class="accordion-body">
                        <div class="pt-2 text-center">
                          <audio controls>
                            <source src="{{ url_for('static', filename='synthesized_audio_body.mp3') }}"
                              type="audio/mpeg">
                          </audio>
                        </div>
                        <p class="text-center mt-2">
                          <a class="btn btn-dark" data-bs-toggle="collapse" href="#collapsePhysicalPrimer" role="button"
                            aria-expanded="false" aria-controls="collapsePhysicalPrimer">
                            Read Primer
                          </a>
                        </p>
                        <div class="collapse" id="collapsePhysicalPrimer">
                          <div class="card card-body">
                            We only have one body, and it's responsible for carrying us through this lifetime. It's
                            important
                            to consider how we can contribute to its longevity, strength, and overall health. While
                            aesthetics
                            may be important to some, this section is focused on physical health and fitness as a
                            crucial
                            part
                            of a fulfilling life. Keeping your body in a healthy state allows you to pursue your life's
                            work
                            in optimal physical condition, and it's a gift you give to yourself and your loved ones.

                            In this section, you can focus on what you can control: what you choose to eat and what you
                            do
                            to
                            keep your body strong and fit to do the things you want to do. It's helpful to consider the
                            physical activities you want to engage in comfortably, such as climbing, hiking, running, or
                            playing with your children. Remember, the details of what physical health and fitness look
                            like
                            for you, and what's required to achieve and maintain it, are totally up to you.
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div>
            <label for="lifeGoalFormControlTextarea" class="form-label fw-bold">Work it out:</label>
            <textarea class="form-control mb-1" id="lifeGoalFormControlTextarea" name="lifeGoalFormControlTextarea"
              rows="6" oninput="countCharacters(this, 1000)"></textarea>
            <div id="characterCount"></div>
            <div id="message"></div>
          </div>
          <div>
            <button type="submit" id="submitButton" class="btn btn-lg btn-dark mb-3">Add Goal</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <script>
    function countCharacters(textarea, limit) {
      var value = textarea.value;
      var characterCount = value.length;
      var characterCountElement = document.getElementById("characterCount");
      characterCountElement.innerHTML = characterCount + " / " + limit;
      if (characterCount > limit) {
        textarea.value = value.slice(0, limit);
        characterCountElement.style.color = "red";
        characterCountElement.innerHTML = "Max limit of " + limit + " characters reached!";
      } else {
        characterCountElement.style.color = "inherit";
      }
    }

    const form = document.querySelector('form');
    const submitButton = document.querySelector('#submitButton');
    const select = document.querySelector('#life-goals');

    form.addEventListener('submit', (event) => {
      if (select.value === 'selection') {
        event.preventDefault();
        select.classList.add('is-invalid');
        const error = document.createElement('div');
        error.classList.add('invalid-feedback');
        error.innerText = 'Please select a valid option';
        select.after(error);
      }
    });

    select.addEventListener('change', () => {
      select.classList.remove('is-invalid');
      const error = select.nextElementSibling;
      if (error && error.classList.contains('invalid-feedback')) {
        error.remove();
      }
    });

    const myForm = document.querySelector('.life-goal-form');
    const mySelect = document.querySelector('#life-goals');

    mySelect.addEventListener('change', function () {
      const selectedOption = this.options[this.selectedIndex];
      const targetCard = document.querySelector(`.${selectedOption.dataset.target}`);
      const allCards = document.querySelectorAll('.goal-card');

      if (selectedOption.value !== 'selection') {
        allCards.forEach(card => card.style.display = 'none');
        targetCard.style.display = 'block';
      } else {
        allCards.forEach(card => card.style.display = 'none');
      }
    });

    // hide all cards on page load
    const allCards = document.querySelectorAll('.goal-card');
    allCards.forEach(card => card.style.display = 'none');

  </script>
  <script>
    // Get the select element and all the cards
    const selectGoal = document.getElementById("life-goals");
    const purposeCard = document.querySelector(".purpose-card");
    const spiritualCard = document.querySelector(".spiritual-card");
    const selfDevCard = document.querySelector(".self-development-card");
    const fitnessCard = document.querySelector(".physical-fitness-card");

    // Hide all cards by default
    purposeCard.style.display = "none";
    spiritualCard.style.display = "none";
    selfDevCard.style.display = "none";
    fitnessCard.style.display = "none";

    // Add event listener to the select element
    selectGoal.addEventListener("change", function () {
      // Get the selected value
      const selectedValue = selectGoal.value;

      // Hide all cards
      purposeCard.style.display = "none";
      spiritualCard.style.display = "none";
      selfDevCard.style.display = "none";
      fitnessCard.style.display = "none";

      // Show the card that matches the selected value
      if (selectedValue === "Purpose") {
        purposeCard.style.display = "block";
        selectGoal.classList.add("rounded-0", "rounded-top");
      } else if (selectedValue === "Spirit") {
        spiritualCard.style.display = "block";
      } else if (selectedValue === "Mental") {
        selfDevCard.style.display = "block";
      } else if (selectedValue === "Physical") {
        fitnessCard.style.display = "block";
      } else {
        selectGoal.classList.remove("rounded-0", "rounded-top");
      }
    });

  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
  <div class="container footer-container">
    <footer class="footer mt-auto py-3 my-4 pt-5">
      <p>&copy; <span id="year"></span> Life Balance, Inc</p>
    </footer>
  </div>
  <script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
  </script>
</body>

</html>